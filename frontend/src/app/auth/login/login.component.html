<div class="auth-container">
    <div class="auth-card">
        <h2>Login</h2>

        <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="auth-form">
            <div class="form-group">
                <label for="email">Email</label>
                <input
                    type="email"
                    id="email"
                    formControlName="email"
                    class="form-control"
                    placeholder="Enter your email"
                    [ngClass]="{
                        'is-invalid':
                            loginForm.controls['email'].touched &&
                            loginForm.controls['email'].invalid,
                    }"
                />
                @if (
                    loginForm.controls["email"].touched &&
                    loginForm.controls["email"].invalid
                ) {
                    <div class="error-message">
                        @if (loginForm.controls["email"].errors?.["required"]) {
                            <span>Email is required</span>
                        }
                        @if (loginForm.controls["email"].errors?.["email"]) {
                            <span>Please enter a valid email</span>
                        }
                    </div>
                }
            </div>

            <div class="form-group">
                <label for="password">Password</label>
                <input
                    type="password"
                    id="password"
                    formControlName="password"
                    class="form-control"
                    placeholder="Enter your password"
                    [ngClass]="{
                        'is-invalid':
                            loginForm.controls['password'].touched &&
                            loginForm.controls['password'].invalid,
                    }"
                />
                @if (
                    loginForm.controls["password"].touched &&
                    loginForm.controls["password"].invalid
                ) {
                    <div class="error-message">
                        @if (
                            loginForm.controls["password"].errors?.["required"]
                        ) {
                            <span>Password is required</span>
                        }
                    </div>
                }
            </div>

            @if (errorMessage) {
                <div class="alert alert-danger">
                    {{ errorMessage }}
                </div>
            }

            <div class="form-actions">
                <button
                    type="submit"
                    [disabled]="loginForm.invalid || loading"
                    class="btn btn-primary"
                >
                    @if (loading) {
                        <span
                            class="spinner-border spinner-border-sm me-1"
                        ></span>
                    }
                    Login
                </button>
            </div>

            <div class="auth-links">
                <p>
                    Don't have an account?
                    <a [routerLink]="['/auth/register']" routerLinkActive="router-link-active">Register</a>
                </p>
            </div>
        </form>
    </div>
</div>
